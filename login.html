<!DOCTYPE html>
<html>
<head>
  <title>Login</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="topbar">
  <span class="logo">Marketplace</span>
</div>

<div class="container card">
  <input id="username" placeholder="Username">
  <input id="password" type="password" placeholder="Password">

  <button onclick="login()">Login</button>
  <br><br>
  <button class="secondary" onclick="signup()">Signup</button>
</div>

<script src="app.js"></script>
<script>
function signup() {
  let users = getData("users");
  users.push({
    username: username.value,
    password: password.value,
    bio: "",
    contact: "",
    photo: ""
  });
  setData("users", users);
  alert("Signup successful. Login now.");
}

function login() {
  let users = getData("users");
  let user = users.find(
    u => u.username === username.value && u.password === password.value
  );
  if (user) {
    localStorage.setItem("currentUser", JSON.stringify(user));
    window.location.href = "index.html";
  } else {
    alert("Invalid credentials");
  }
}
</script>

</body>
</html>
